<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:sac="http://java.sun.com/jsf/composite/sac">

<ui:composition>
	
		<h:outputText value="#{messages.titulo_listar_eventos}" style="font-size:30px;"/>
		<br/>		
		<p:commandButton icon="ui-icon-plusthick" title="#{messages.novo_evento}" action="#{cadastrarEventoMB.cadastrarEvento}" ajax="true"
		 				 update="@form"/>
		
		<p:dataTable value="#{cadastrarEventoMB.eventos}" var="evento" style="text-align:center;font-size:15px;">
		
			<p:column headerText="#{messages.nome}" style="width:500px;">
				<h:outputText value="#{evento.nome}"/>
			</p:column>
			
			<p:column headerText="#{messages.ano}">
				<h:outputText value="#{evento.ano}"/>
			</p:column>
			
			<p:column styleClass="borderNone" headerText="#{messages.operacoes}">				
				<p:panelGrid  style="width:30%;margin: auto;">
					<p:row>
						<p:column>
							<center>
								<p:commandLink styleClass="ui-icon ui-icon-pencil" ajax="true" title="#{messages.editar_evento}" 
											   action="#{cadastrarEventoMB.editarEvento}" update="@form">
									<f:setPropertyActionListener value="#{evento}" target="#{cadastrarEventoMB.eventoDTO}"/>
								</p:commandLink>
							</center>
						</p:column>
						<p:column>
							<center>
								<p:commandLink styleClass="ui-icon ui-icon-trash" ajax="true" title="#{messages.remover_evento}"
											   action="#{cadastrarEventoMB.excluirEvento}" update="@form">
									<f:setPropertyActionListener value="#{evento}" target="#{cadastrarEventoMB.eventoDTO}"/>
								</p:commandLink>								
							</center>
						</p:column>
					</p:row>					
				</p:panelGrid>
				
			</p:column>
		
		</p:dataTable>
			
</ui:composition>

</html>
